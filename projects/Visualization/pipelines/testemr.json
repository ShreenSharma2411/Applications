{
  "name": "testemr",
  "uuid": "e8c05239-bf8d-41da-b84f-00f794fda584",
  "category": "",
  "description": "",
  "parameters": "",
  "nodes": [
    {
      "id": "1",
      "path": "/03-EMR/",
      "name": "Create EMR JobFlow",
      "description": "This node creates a new EMR JobFlow by using details in configuration and passes the EMR ID to the next step.",
      "details": "\u003ch2\u003eCreate EMR cluster\u003c/h2\u003e\n\u003cbr\u003e\nThis node creates a new EMR JobFlow by using details in configuration and passes the EMR ID to the next step.\u003cbr\u003e",
      "examples": "",
      "type": "emr",
      "nodeClass": "fire.pipelineNodes.EMR",
      "x": "254.111px",
      "y": "324.111px",
      "fields": [
        {
          "name": "notes",
          "value": "",
          "widget": "textfield",
          "title": "Notes",
          "description": "Notes",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Name",
          "value": "createemr",
          "widget": "textfield",
          "title": "Task Name",
          "description": "Unique name of the task in airflow DAG.",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "ReleaseLabel",
          "value": "emr-6.2.0",
          "widget": "textfield",
          "title": "Release Label",
          "description": "ReleaseLabel like emr-6.2.0 ,emr-6.2.1, emr-6.3.0 etc",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "LogUri",
          "value": "s3://aws-logs-us-east-1/elasticmapreduce/",
          "widget": "textfield",
          "title": "Log URI",
          "description": "Log URI Path",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Applications",
          "value": "Spark",
          "widget": "textfield",
          "title": "Applications",
          "description": "Applications Name is Spark",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "JobFlowRole",
          "value": "EMR_EC2_DefaultRole",
          "widget": "textfield",
          "title": "JobFlow Role",
          "description": "The IAM role that was specified when the JobFlow was created. The EC2 instances of the JobFlow assume this role",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "ServiceRole",
          "value": "EMR_DefaultRole",
          "widget": "textfield",
          "title": "Service Role",
          "description": "The IAM role that is assumed by the Amazon EMR service to access Amazon Web Services resources on your behalf",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "SecurityConfiguration",
          "value": "",
          "widget": "textfield",
          "title": "Security Configuration",
          "description": "SecurityConfiguration",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "CustomAmiId",
          "value": "",
          "widget": "textfield",
          "title": "Custom AMI ID",
          "description": "Custom AMI ID",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "StepConcurrencyLevel",
          "value": "1",
          "widget": "textfield",
          "title": "Step Concurrency Level",
          "description": "Step Concurrency Level",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Instances",
          "value": "",
          "widget": "tab",
          "title": "Instances",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Ec2KeyName",
          "value": "sf",
          "widget": "textfield",
          "title": "EC2 Key Name",
          "description": "EC2 Key Name",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "ServiceAccessSecurityGroup",
          "value": "",
          "widget": "textfield",
          "title": "Service Access Security Group",
          "description": "Service Access Security Group",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Ec2SubnetId",
          "value": "subnet-42456219",
          "widget": "textfield",
          "title": "EC2 Subnet ID",
          "description": "EC2 Subnet ID",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "KeepJobFlowAliveWhenNoSteps",
          "value": "False",
          "widget": "array",
          "title": "Keep JobFlow Alive When No Steps",
          "description": "Specifies whether the JobFlow should remain available after completing all steps. Defaults to true",
          "optionsArray": [
            "True",
            "False"
          ],
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "TerminationProtected",
          "value": "False",
          "widget": "array",
          "title": "Termination Protected",
          "description": "Indicates whether Amazon EMR will lock the cluster to prevent the EC2 instances from being terminated by an API call or user intervention, or in the event of a cluster error",
          "optionsArray": [
            "True",
            "False"
          ],
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "EmrManagedMasterSecurityGroup",
          "value": "sg-06f134b77406cf93b",
          "widget": "textfield",
          "title": "EMR Managed Master SecurityGroup",
          "description": "Parameter to specify a custom managed security group for the master instance",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "EmrManagedSlaveSecurityGroup",
          "value": "sg-0469690a2e579fc32",
          "widget": "textfield",
          "title": "EMR Managed Slave SecurityGroup",
          "description": "Parameter to specify a custom managed security group for core and task instances",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "InstanceGroups",
          "value": "[{\"Name\":\"Master\",\"Market\":\"ON_DEMAND\",\"InstanceRole\":\"MASTER\",\"InstanceType\":\"m4.4xlarge\",\"InstanceCount\":1,\"EbsVolumeSizeInGB\":\"\",\"EbsVolumeType\":\"\",\"EbsVolumesPerInstance\":\"\"},{\"Name\":\"Slave\",\"Market\":\"ON_DEMAND\",\"InstanceRole\":\"CORE\",\"InstanceType\":\"m4.xlarge\",\"InstanceCount\":1,\"EbsVolumeSizeInGB\":\"\",\"EbsVolumeType\":\"\",\"EbsVolumesPerInstance\":\"\"}]",
          "widget": "variablesList",
          "title": "Instance Groups",
          "description": "InstanceRole: Instance group role in the cluster, InstanceType: EC2 instance type, InstanceCount:Actual count of running instances,VolumeSpecification: Volume Specification,VolumesPerInstance: Volumes Per Instance",
          "optionsArray": [
            "Name",
            "Market",
            "InstanceRole",
            "InstanceType",
            "InstanceCount",
            "EbsVolumeSizeInGB",
            "EbsVolumeType",
            "EbsVolumesPerInstance"
          ],
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Bootstrapactions",
          "value": "",
          "widget": "tab",
          "title": "Bootstrap Actions",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "BootstrapActions",
          "value": "[]",
          "widget": "variablesList",
          "title": "Bootstrap Actions",
          "description": "ScriptBootstrapAction: Instance group role in the cluster",
          "optionsArray": [
            "Name",
            "ScriptBootstrapAction"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Advanced",
          "value": "",
          "widget": "tab",
          "title": "Advanced",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Tags",
          "value": "[{\"Key\":\"COST_CENTER\",\"Value\":\"30025\"},{\"Key\":\"BUSINESS_AREA\",\"Value\":\"HDC\"}]",
          "widget": "variablesList",
          "title": "Tags",
          "description": "key: Tag Key,Value: Tag Value",
          "optionsArray": [
            "Key",
            "Value"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Configurations",
          "value": "[{\"classification\":\"spark\",\"propertiesKey\":\"maximizeResourceAllocation\",\"propertiesValue\":\"true\"}]",
          "widget": "variablesList",
          "title": "Configurations",
          "description": "key: Tag Key,Value: Tag Value",
          "optionsArray": [
            "classification",
            "propertiesKey",
            "propertiesValue"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        }
      ]
    },
    {
      "id": "2",
      "path": "/03-EMR/",
      "name": "Add Step EMR JobFlow",
      "description": "This node adds steps to an existing EMR job flow and executes the arguments as one command using command-runner.jar",
      "details": "\u003ch2\u003eAdd step to EMR cluster\u003c/h2\u003e\n\u003cbr\u003e\nThis node adds steps to an existing EMR job flow and executes the arguments as one command using command-runner.jar.\u003cbr\u003e",
      "examples": "",
      "type": "addStep",
      "nodeClass": "fire.pipelineNodes.addStep",
      "x": "538px",
      "y": "300px",
      "fields": [
        {
          "name": "notes",
          "value": "",
          "widget": "textfield",
          "title": "Notes",
          "description": "Notes",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Name",
          "value": "emr_step1",
          "widget": "textfield",
          "title": "Task Name",
          "description": "Unique name of the task in Airflow DAG",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "ClusterId",
          "value": "",
          "widget": "textfield",
          "title": "Cluster ID",
          "description": "If Cluster ID is empty, the step tries to pick the cluster ID from previous create EMR node(task)",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "ActionOnFailure",
          "value": "CONTINUE",
          "widget": "array",
          "title": "Action On Failure",
          "description": "Action to be taken on Failure",
          "optionsArray": [
            "CANCEL_AND_WAIT",
            "CONTINUE",
            "TERMINATE_JOB_FLOW",
            "TERMINATE_CLUSTER"
          ],
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Jar",
          "value": "command-runner.jar",
          "widget": "textfield",
          "title": "JAR",
          "description": "JAR",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Arguments",
          "value": "bash -c aws s3 cp s3://fire-sample-data/my_script.sh /home/hadoop; chmod u+x /home/hadoop/my_script.sh; cd /home/hadoop; ./my_script.sh s3://fire-sample-data/",
          "widget": "textfield",
          "title": "Arguments",
          "description": "Comma seperated list of Arguments.",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": true,
          "disableRefresh": false
        }
      ]
    }
  ],
  "edges": [
    {
      "source": "1",
      "target": "2",
      "id": 1
    }
  ]
}