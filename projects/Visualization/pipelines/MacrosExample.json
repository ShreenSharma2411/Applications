{
  "name": "MacrosExample",
  "uuid": "d821dccf-17f7-4c54-9f60-2c39de450077",
  "category": "",
  "description": "",
  "parameters": "",
  "nodes": [
    {
      "id": "1",
      "path": "/05-LegoBlock/",
      "name": "XMLParser",
      "description": "Lego Block: Execute Generic XML Parser (a wrapper around Spark XML)",
      "details": "\u003ch2\u003eXMLParser\u003c/h2\u003e\n\u003cbr\u003e\nLego Block: Execute Generic XML Parser (a wrapper around Spark XML).\u003cbr\u003e",
      "examples": "",
      "type": "legoblock",
      "nodeClass": "fire.pipelineNodes.XMLParser",
      "x": "248.991px",
      "y": "335.994px",
      "fields": [
        {
          "name": "notes",
          "value": "",
          "widget": "textfield",
          "title": "Notes",
          "description": "Notes",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "Name",
          "value": "XMLParser_Macros",
          "widget": "textfield",
          "title": "Task Name",
          "description": "Name of the task in airflow dag and it should be unique in the dag.",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "ClusterId",
          "value": "j-1IJRAA6DWOY1F",
          "widget": "textfield",
          "title": "Cluster Id",
          "description": "If Cluster Id is empty, step try to pick the cluster id from previous create emr node(task).",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "ActionOnFailure",
          "value": "CONTINUE",
          "widget": "array",
          "title": "ActionOnFailure",
          "description": "Action On Failure",
          "optionsArray": [
            "CANCEL_AND_WAIT",
            "CONTINUE",
            "TERMINATE_JOB_FLOW",
            "TERMINATE_CLUSTER"
          ],
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "deploy-mode",
          "value": "client",
          "widget": "array",
          "title": "Deploy Mode",
          "description": "Whether to deploy your driver on the worker nodes (cluster) or locally as an external client (client)",
          "optionsArray": [
            "client",
            "cluster"
          ],
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "jars",
          "value": "s3://fire-sample-data/change-health/jar/spark-xml_2.12-0.12.0.jar",
          "widget": "textfield",
          "title": "Jars",
          "description": "Comma separted jars path location",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "files",
          "value": "s3://fire-sample-data/change-health/log4j/log4j.properties",
          "widget": "textfield",
          "title": "Files",
          "description": "Comma-separated list of files to be placed in the working directory of each executor.",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "conf",
          "value": "spark.dynamicAllocation.enabled\u003dtrue",
          "widget": "textfield",
          "title": "Configuration",
          "description": "Arbitrary Spark configuration property in key\u003dvalue format. Multiple configurations should be passed with comma separation. (e.g. \u003ckey\u003e\u003d\u003cvalue\u003e,\u003ckey2\u003e\u003d\u003cvalue2\u003e)",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "class",
          "value": "com.changehealthcare.ingestion.interop.pipeline.XmlReaderPipelineMain",
          "widget": "textfield",
          "title": "Class",
          "description": "The entry point for your application (e.g. org.apache.spark.examples.SparkPi)",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "applicationJar",
          "value": "s3://fire-sample-data/change-health/jar/generic-xmlparser_2.12-EMR-6.2_3.0.0-SNAPSHOT-assembly.jar",
          "widget": "textfield",
          "title": "Application Jar",
          "description": "Path to a bundled jar including your application and all dependencies.",
          "required": true,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "parameters",
          "value": "",
          "widget": "tab",
          "title": "Parameters",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "name",
          "value": "Ingestion-edi270",
          "widget": "textfield",
          "title": "Name",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "inputBasePath",
          "value": "hdfs:///interoperability/valid/270",
          "widget": "textfield",
          "title": "Input Base Path",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "sourceBasePath",
          "value": "s3://fire-sample-data/change-health/input ",
          "widget": "textfield",
          "title": "Source Base Path",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "inputPathOrder",
          "value": "version,year,month,day,hour",
          "widget": "textfield",
          "title": "Input Path Order",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "outputBasePath",
          "value": "s3://fire-sample-data/change-health/outputIngestion",
          "widget": "textfield",
          "title": "Output Base Path",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "validateXML",
          "value": "true",
          "widget": "textfield",
          "title": "Validate XML",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "processPartialInput",
          "value": "true",
          "widget": "textfield",
          "title": "Process Partial Input",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "RootTag",
          "value": "{CORRELATION_ID}",
          "widget": "textfield",
          "title": "Root Tag",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "RowTag",
          "value": "TS_270",
          "widget": "textfield",
          "title": "Row Tag",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "version",
          "value": "1-2",
          "widget": "textfield",
          "title": "Version",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "year",
          "value": "{{execution_date.strftime(\u0027%Y\u0027) }}",
          "widget": "textfield",
          "title": "Year",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "month",
          "value": "{{ (execution_date - macros.timedelta(days\u003d60)).strftime(\u0027%m\u0027) }}",
          "widget": "textfield",
          "title": "Month",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "day",
          "value": "30",
          "widget": "textfield",
          "title": "Day",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "hour",
          "value": "04",
          "widget": "textfield",
          "title": "Hour",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        }
      ]
    },
    {
      "id": "2",
      "path": "/09-Documentation/",
      "name": "Sticky Note",
      "description": "Allows capturing Notes",
      "details": "\u003ch2\u003eSticky Note\u003c/h2\u003e\n\u003cbr\u003e\nAllows capturing Notes.\u003cbr\u003e",
      "examples": "",
      "type": "sticky",
      "nodeClass": "fire.pipelineNodes.doc.NodeStickyNote",
      "x": "541px",
      "y": "35px",
      "fields": [
        {
          "name": "bgColor",
          "value": "blue",
          "widget": "textfield",
          "title": "Bg Color",
          "description": "Background of the Note",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "width",
          "value": "600.011364px",
          "widget": "textfield",
          "title": "Width",
          "description": "Width of the Note",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "height",
          "value": "188.011364px",
          "widget": "textfield",
          "title": "Height",
          "description": "Height of the note",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        },
        {
          "name": "comment",
          "value": "\u003cp\u003eIn the XMLParser legoblock node, year and month fields are configured with airflow macros. Use double curly brace i.e {{ define macro}}\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong style\u003d\"color: rgb(21, 22, 23);\"\u003eYEAR:\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(21, 22, 23);\"\u003e  \u003c/span\u003e{{execution_date.strftime(\u0027%Y\u0027) }}\u003c/p\u003e\u003cp\u003e\u003cstrong style\u003d\"color: rgb(21, 22, 23);\"\u003eMONTH:\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(21, 22, 23);\"\u003e  \u003c/span\u003e{{ (execution_date - macros.timedelta(days\u003d60)).strftime(\u0027%m\u0027) }}\u003c/p\u003e",
          "widget": "textarea_rich",
          "title": "Comment",
          "description": "Comments for the Pipeline",
          "required": false,
          "display": true,
          "editable": true,
          "expandable": false,
          "disableRefresh": false
        }
      ]
    }
  ],
  "edges": []
}